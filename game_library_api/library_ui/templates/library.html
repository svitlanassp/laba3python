{% extends "base.html" %}

{% block content %}
    <h2>{{ view_title }}</h2>
    
    {% if games %}
        <div class="game-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
            {% for item in games %}
                {% with game=item.game_data %} 
                
                    <div class="game-card" style="padding: 20px; border: 1px solid #ccc; border-radius: 8px;">
                        <h3>{{ game.title }}</h3>

                        <p><strong>Час гри:</strong> {{ item.playtime_hours|default:"0" }} год.</p>
                        
                        <hr>
                        
                        <p>Розробник: {{ game.developer_name|default:"N/A" }}</p>
                        
                        <a href="{% url 'game_detail' pk=game.game_id %}" class="btn btn-secondary" style="margin-top: 10px; display: inline-block;">
                            Детальніше
                        </a>
                        
                    </div>
                {% endwith %}
            {% endfor %}
        </div>
    {% else %}
        <p>Ваша бібліотека порожня. Перейдіть до <a href="{% url 'game_list' %}">Магазину</a>, щоб придбати нові ігри!</p>
    {% endif %}

{% endblock %}